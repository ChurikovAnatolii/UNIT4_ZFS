
# UNIT4_ZFS


### 1. Определить алгоритм с наилучшим сжатием.

-  #### определить какие алгоритмы сжатия поддерживает zfs

> **lz4** - алгоритм сжатия данных без потерь, ориентированный на высокую скорость сжатия и распаковки. Используется в ZFS по-умолчанию.  
> **zstd** - это быстрый алгоритм сжатия, обеспечивающий высокую степень сжатия. Он также предлагает специальный режим для небольших   >данных, называемый сжатием с использованием словаря;  
> **gzip** - проверенный временем метод сжатия данных, разрабатываемый с 1992 года и использующий алгоритм deflate;  
> **zle** - это кодирование нулевого уровня - оно не сжимает обычные данные, но сжимает большие последовательности нулей. Полезно для   >полностью несжимаемых наборов данных (например, JPEG, MP4 или других уже сжатых форматов), поскольку он игнорирует несжимаемые   >данные, но сжимает свободное пространство в окончательных записях;  
> **lzjb** - алгоритм сжатия данных без потерь, изобретённый в 1998 году для сжатия аварийных дампов программ и данных в файловой системе ZFS. Ранее использовался в ZFS по-умолчанию, но сейчас уступил место более быстрому и эффективному lz4.

- #### создать 4 файловых системы на каждой применить свой алгоритм сжатия 

-***Для начала cоздадим zfs pool***  
> 
> *create -o ashift=12 unit4 raidz1 sd{b,c,d}*  
>
> *zpool status*  
>
>  NAME        STATE     READ WRITE CKSUM  
        unit4       ONLINE       0     0     0  
          raidz1-0  ONLINE       0     0     0  
            sdb     ONLINE       0     0     0  
            sdc     ONLINE       0     0     0  
            sdd     ONLINE       0     0     0 
            
-***Создадим файловые системы, установим, квоты и компрессию***  

> zfs create unit4/filesystem1  
> zfs create unit4/filesystem2  
> zfs create unit4/filesystem3  
> zfs create unit4/filesystem4  
>
> zfs set quota=500M unit4/filesystem1  
> zfs set quota=500M unit4/filesystem2  
> zfs set quota=500M unit4/filesystem3  
> zfs set quota=500M unit4/filesystem4  






